{"ast":null,"code":"import React from'react';import{useState}from'react';import{useNavigate}from\"react-router-dom\";import'../Assets/Styles/LoginPage.css';import Navbar from'../Components/Navigationbar.js';// import left_icon from '../Assets/left.svg';\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function LoginPage(_ref){let{handleLogin}=_ref;const[inputs,setInputs]=useState({email:'',password:''});const navigate=useNavigate();const handleChange=e=>{const{name,value}=e.target;setInputs(prev=>({...prev,[name]:value}));};const handleSubmit=e=>{e.preventDefault();fetch('http://localhost:3000/api/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:inputs.email,password:inputs.password})}).then(response=>response.json()).then(data=>{if(data.success){handleLogin();// This should update the login state in App.jsx\nnavigate('/dashboardPage');// Navigate to the dashboard page after successful login\n}else{alert('Login failed: '+(data.message||'Invalid credentials'));}}).catch(error=>{console.error('Login Error:',error);alert('Login error: '+error.message);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-box\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"login-title\",children:\"Log in to use all tools!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"inputs\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"signup-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Username (e-mail)\",value:inputs.email,onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",value:inputs.password,onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{className:\"submit-login\",children:/*#__PURE__*/_jsx(\"div\",{className:\"submit\",children:\"Log in\"})})]})})]})]});}export default LoginPage;","map":{"version":3,"names":["React","useState","useNavigate","Navbar","jsx","_jsx","jsxs","_jsxs","LoginPage","_ref","handleLogin","inputs","setInputs","email","password","navigate","handleChange","e","name","value","target","prev","handleSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","json","data","success","alert","message","catch","error","console","children","className","onSubmit","type","placeholder","onChange"],"sources":["/Users/alexanderjarvheden/Projects/DD1367-Software-Engineering-in-Project-Form/client/src/Components/LoginPage.js"],"sourcesContent":["import React from 'react';\nimport { useState } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport '../Assets/Styles/LoginPage.css';\n\nimport Navbar from '../Components/Navigationbar.js';\n\n// import left_icon from '../Assets/left.svg';\n\nfunction LoginPage({ handleLogin }) {\n    const [inputs, setInputs] = useState({\n        email: '',\n        password: '',\n    });\n    const navigate = useNavigate();\n\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setInputs(prev => ({ ...prev, [name]: value }));\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        fetch('http://localhost:3000/api/login', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                email: inputs.email,\n                password: inputs.password\n            })\n        })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    handleLogin();  // This should update the login state in App.jsx\n                    navigate('/dashboardPage');  // Navigate to the dashboard page after successful login\n                } else {\n                    alert('Login failed: ' + (data.message || 'Invalid credentials'));\n                }\n            })\n            .catch(error => {\n                console.error('Login Error:', error);\n                alert('Login error: ' + error.message);\n            });\n    };\n\n    return (\n        <div>\n            <Navbar />\n            <div className='login-box'>\n                <span className=\"login-title\">\n                    Log in to use all tools!\n                </span>\n                <div className=\"inputs\">\n                    <form className=\"signup-form\" onSubmit={handleSubmit}>\n                        <input type=\"email\" name=\"email\" placeholder=\"Username (e-mail)\" value={inputs.email} onChange={handleChange} />\n                        <input type=\"password\" name=\"password\" placeholder=\"Password\" value={inputs.password} onChange={handleChange} />\n                        <button className=\"submit-login\">\n                            <div className=\"submit\">Log in</div>\n                            {/* <img src={left_icon} alt=\"\" /> */}\n                        </button>\n                    </form>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default LoginPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}